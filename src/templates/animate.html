{% extends "base.html" %}

{% block body_id %}animate{% end %}

{% block content %}

<div id="links">
    <a href="/" class="button"><span>&#9664;</span> Paint</a>
    <a href="/text/" class="button">Text <span>&#9654;</span></a>
</div>

<div id="color" class="color-selection">
    <!-- 
     <div style="background:rgb(255, 255, 0);"></div>
    <div style="background:rgb(255, 255, 255);"></div>
    <div style="background:rgb(0, 255, 255);"></div>
    -->
    <div class="active" style="background:rgb(255, 0, 0);"></div>
    <div style="background:rgb(255, 255, 0);"></div>
    <div style="background:rgb(0, 255, 255);"></div>
    <div style="background:rgb(255, 0, 255);"></div>
    <div style="background:rgb(255, 255, 255);"></div>
    <div style="background:rgb(0, 255, 0);"></div>
    <div style="background:rgb(0, 0, 255);"></div>
    <div style="background:rgb(0, 0, 0);"></div>
</div>

<table id="panel">
    <thead></thead>
    <tfoot></tfoot>
    <tbody>
        {% for y in range(0, 8) %}
        <tr>
            {% for x in range(0, 8) %}
            <td data-x="{{x}}" data-y="{{y}}"></td>
            {% end %}
        </tr>
        {% end %}
    </tbody>
</table>

<div id="frame-options">
    <h2>Frame length: <span></span> seconds</h2>
    <!-- <input type="range" name="slider-0" id="slider" value="1" min="0" max="2" step="0.1" />-->
    <div id="slider"> </div>
    <div id="frame-move-controls">
        <div id="move-frame-backward" class="button">&#9664;</div>
        <div id="delete-frame" class="button">Delete</div>
        <div id="move-frame-forward" class="button">&#9654;</div>
    </div>
</div>

<div id="frames">
    <div id="add-frame">
        <a href="">+</a>
    </div>
</div>

<div id="controls">
    <a id="play-button" class="button">Play</a>
</div>

<div id="upload">
    <h3>Upload and Share Animation</h3>
    <label for="animation-title">Title</label>
    <input type="text" name="animation-title" id="animation-title" />
    <br />
    <label for="animation-author">Author</label>
    <input type="text" name="animation-author" id="animation-author" />
    <br />
    <a id="upload-button" class="button">Upload</a>
</div>
{% end %}


{% block scripts %}
<script src="{{ static_url('js/dl_animate.js') }}"></script>
<script type="text/javascript">
    $(function() {
        // Input for drawing. This time we don't need output since
        // we're not actually sending data to the server
        panelInteraction.init(true, animation.panelChangedCallback);
        
        // Initialize the animation related code
        animation.init();
        
        $('#play-button').click(animation.play);
        $('#upload-button').click(animation.upload);
        $( "#slider" ).slider({
            max: 2.5,
            min: 0,
            step: 0.1,
            value: 1
        }).bind('slidechange', function(e, ui) {
            $('div#frame-options h2 span').text(ui.value);
            animation.frameLengthChangedEvent(ui.value);
        }).bind('slide', function(e, ui) {
            $('div#frame-options h2 span').text(ui.value);
        });
        

        // Write the default value on startup
        $('div#frame-options h2 span').text($('#slider').slider('value'));
        
      
    });
</script>
{% end %}